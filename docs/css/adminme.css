/* =====================================================================
   adminme.css — Admin My Page (scoped, compact)
   - Scope: .adminme … (다른 페이지 영향 X)
   - Matches: adminme.js (lab/leaderboards/quick/profile)
===================================================================== */

/* 0) Base & Tokens */
* { box-sizing: border-box; margin: 0; padding: 0; }
:root{
  --accent: #FFA765;
  --text: #111;
  --muted: #666;
  --focus: #0B72FF;
  --bg: #F5F5F5;
  --panel: #fff;
  --line: rgba(0,0,0,.08);
  --shadow: 0 6px 16px rgba(0,0,0,.08);
  --nav-h: 64px;
  --container: clamp(360px, 88vw, 1000px);
}
html, body { height: 100%; }
body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--text); background: var(--bg); }

/* 1) Common */
.adminme .container { inline-size: var(--container); margin-inline: auto; }
.adminme .row { display:flex; align-items:center; gap:.5rem; }
.adminme .row.between { justify-content: space-between; }
:where(.adminme a, .adminme button, .adminme [tabindex]):focus-visible{
  outline: 2px solid var(--focus); outline-offset: 2px; border-radius: 10px;
}

/* 2) Nav */
.adminme header.nav{ position: sticky; top:0; z-index:100; height: var(--nav-h); background: var(--bg); }
.adminme .nav-inner{ height:100%; display:flex; align-items:center; justify-content:space-between; padding:0 24px; }
.adminme .menu{ list-style:none; display:flex; gap:18px; }
.adminme .menu a{ color:#333; text-decoration:none; font-weight:600; font-size:14px; opacity:.9; }
.adminme .menu a:hover{ opacity:1; color:#000; }
.adminme .logo-cta img{ inline-size:27px; block-size:27px; object-fit:contain; }

/* 3) Profile hero */
.adminme{ inline-size: var(--container); margin: 0 auto 56px; }
.adminme .profile-hero{
  margin-top:18px; padding:20px 22px; border-radius:22px;
  background: linear-gradient(180deg, #A9B9CF, #A9B9CF);
  color:#0d3800; display:flex; align-items:center; justify-content:space-between; gap:18px;
}
.adminme .ph-left{ display:flex; align-items:center; gap:14px; min-width:0; }
.adminme .name-block{ min-width:0; }
.adminme .display-name{ font-size:28px; line-height:1.1; font-weight:800; letter-spacing:-.2px; }
.adminme .email{ margin-top:4px; font-weight:600; opacity:.9; }
.adminme .badge-line{ margin-top:6px; }
.adminme .grade-badge{ display:inline-block; padding:6px 10px; border-radius:9999px; font-weight:800; font-size:12px; background:#fff; border:1px solid rgba(0,0,0,.06); }
.adminme .ph-right{ display:flex; gap:8px; }

/* 4) Avatar (CSS-only) */
.adminme .avatar{
  inline-size:88px; block-size:88px; border-radius:22px; display:grid; place-items:center;
  font-weight:800; position:relative; overflow:hidden; user-select:none; box-shadow: var(--shadow);
  background: hsl(var(--h) 75% 85%); color: hsl(var(--h) 60% 28%);
}
.adminme .avatar::after{ content: attr(data-initials); font-size:30px; line-height:1; letter-spacing:.5px; }
.adminme #me-avatar.avatar{ border-radius:50%; }
.adminme #me-avatar .avatar-img{ display:none; width:100%; height:100%; object-fit:cover; }
.adminme #me-avatar.url-mode .avatar-img{ display:block; }
.adminme #me-avatar.url-mode::after{ content:""; }
/* 24 hue buckets */
.adminme .avatar.h0{--h:0}.adminme .avatar.h1{--h:15}.adminme .avatar.h2{--h:30}.adminme .avatar.h3{--h:45}.adminme .avatar.h4{--h:60}.adminme .avatar.h5{--h:75}
.adminme .avatar.h6{--h:90}.adminme .avatar.h7{--h:105}.adminme .avatar.h8{--h:120}.adminme .avatar.h9{--h:135}.adminme .avatar.h10{--h:150}.adminme .avatar.h11{--h:165}
.adminme .avatar.h12{--h:180}.adminme .avatar.h13{--h:195}.adminme .avatar.h14{--h:210}.adminme .avatar.h15{--h:225}.adminme .avatar.h16{--h:240}.adminme .avatar.h17{--h:255}
.adminme .avatar.h18{--h:270}.adminme .avatar.h19{--h:285}.adminme .avatar.h20{--h:300}.adminme .avatar.h21{--h:315}.adminme .avatar.h22{--h:330}.adminme .avatar.h23{--h:345}

/* 5) Buttons */
.adminme .btn{
  appearance:none; border:1px solid rgba(0,0,0,.12); border-radius:9999px; padding:10px 16px;
  font-weight:800; line-height:1; cursor:pointer; background:#fff; color:var(--text);
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease, opacity .15s ease;
}
.adminme .btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow); }
.adminme .btn[aria-busy="true"]{ opacity:.7; pointer-events:none; }
.adminme .btn.primary{ background: var(--accent); border-color: transparent; }
.adminme .btn.primary:hover{ filter:brightness(.98); transform: translateY(-1px); }
.adminme .btn.ghost{ background:#fff; }

.adminme .btn-logout{ min-width:140px; padding:12px 18px; font-weight:700; background:#e9e9ec; border:1px solid rgba(0,0,0,.14); }
.adminme .btn-logout:hover{ background:#dedee2; }
.adminme .btn-delete{ inline-size:48px; block-size:48px; border-radius:50%; display:grid; place-items:center; background:#e9e9ec; border:1px solid rgba(0,0,0,.14); }
.adminme .btn-delete:hover{ background:#dedee2; }

/* 6) Panels (card shell) */
.adminme .panel{
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
}

/* 7) Quick section (Collection summary + Lab side-by-side) */
.adminme .quick{
  margin-top: 18px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}
.adminme .grid-3{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
.adminme .kpi{ display:flex; flex-direction:column; gap:6px; align-items:flex-start; }
.adminme .kpi b{ font-size:22px; line-height:1; }
.adminme .kpi span{ font-size:12px; color:#777; }

/* Desktop: Collection 세로 리스트화 */
@media (min-width: 1001px){
  .adminme .quick > .panel:first-child{ display:flex; flex-direction:column; }
  .adminme .quick > .panel:first-child .grid-3{
    display:flex; flex-direction:column; gap:18px; padding-block:35px; min-height:240px;
  }
  .adminme .quick > .panel:first-child .kpi{
    flex-direction:row; align-items:baseline; justify-content:space-between; gap:12px; padding:0 6px;
  }
}
/* Narrow: stack */
@media (max-width: 1000px){
  .adminme .quick{ grid-template-columns: 1fr; }
}

/* 8) aud laboratory (canvas tool) */
.adminme .lab-wrap{
  display:grid; grid-template-columns: 1fr min(640px,55%); gap:16px; align-items:stretch;
}
@media (max-width: 1000px){ .adminme .lab-wrap{ grid-template-columns:1fr; } }

.adminme .panel.lab{ display:grid; grid-template-rows:auto 1fr auto; gap:10px; min-height:420px; }
.adminme .lab-head{ display:flex; align-items:baseline; justify-content:space-between; gap:10px; }
.adminme .lab-head h3{ font-size:16px; font-weight:800; }
.adminme .lab-stats{ font-size:12px; color:var(--muted); }

.adminme .lab-canvas-wrap{
  position:relative; border-radius:16px; background:#fff;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.05); overflow:hidden;
  height: clamp(300px, 42vh, 520px);
}
.adminme #aud-canvas{
  display:block; width:100%; height:100%;
  background: linear-gradient(180deg, #f8fafc, #eef2f7 50%, #e6ebf3);
  touch-action:none;
}
.adminme #aud-canvas:focus-visible{ outline:3px solid var(--focus); outline-offset:2px; }

.adminme .lab-controls{ display:flex; align-items:center; gap:8px; }
.adminme .lab-controls .spacer{ flex:1; }
.adminme .panel.lab .btn[disabled]{ opacity:.5; cursor:not-allowed; }

/* 9) Admin Lab modal (gallery) */
#admin-lab.modal{ position:fixed; inset:0; display:grid; place-items:center; padding:20px; background:rgba(0,0,0,.36); opacity:0; pointer-events:none; transition:opacity .18s ease; z-index:1000; }
#admin-lab.modal.open{ opacity:1; pointer-events:auto; }
#admin-lab .sheet{ width:min(92vw,980px); background:#fff; border-radius:20px; box-shadow:0 20px 60px rgba(0,0,0,.22); padding:18px; }
#admin-lab .overlay{ position:fixed; inset:0; background:transparent; border:0; }
#admin-lab .title{ font-size:20px; font-weight:800; margin:2px 4px 10px; }
#admin-lab .admin-toolbar{ display:flex; align-items:center; gap:8px; margin:8px 0 14px; }
#admin-lab .admin-toolbar .spacer{ flex:1; }
#admin-lab #admin-lab-q{ appearance:none; border:1px solid var(--line); border-radius:10px; padding:10px 12px; font-size:14px; min-width:220px; }
#admin-lab .admin-grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(180px,1fr)); gap:12px; }
#admin-lab .card{ border:1px solid var(--line); border-radius:12px; padding:12px 14px 14px; background:#fff; }
#admin-lab .card img{ width:100%; height:130px; object-fit:cover; border-radius:12px; display:block; background:#f3f4f6; margin-bottom:10px; }
#admin-lab .card .meta{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin:6px 0 2px; font-size:12px; color:#6b7280; }
#admin-lab .card .row--spaced{ display:flex; align-items:center; gap:12px; margin-top:10px; min-height:44px; }
#admin-lab .empty{ color:#9ca3af; padding:24px; text-align:center; border:1px dashed #e5e7eb; border-radius:12px; }
#admin-lab .card.is-hidden{ display:none; }

/* 10) Leaderboards */
.adminme .lb-grid{ display:grid; gap:16px; }
@media (min-width: 960px){ .adminme .lb-grid{ grid-template-columns:1fr 1fr; } }

.adminme .lb-grid .panel h3{ margin:0 0 8px; font-size:16px; font-weight:800; }
.adminme table.lb{ width:100%; border-collapse:collapse; table-layout: fixed; }
.adminme table.lb th, .adminme table.lb td{
  border-bottom:1px solid rgba(0,0,0,.1); padding:8px 10px; text-align:right; vertical-align:middle; font-size:14px;
}
.adminme table.lb th:nth-child(1), .adminme table.lb td:nth-child(1){ text-align:left; width:64px; }
.adminme table.lb th:nth-child(2), .adminme table.lb td:nth-child(2){ text-align:left; }
.adminme .acc{ display:flex; align-items:center; gap:8px; min-width:0; }
.adminme .acc .lb-avatar{ width:22px; height:22px; border-radius:50%; object-fit:cover; display:block; background:#e9e9ec; }
.adminme .acc>div{ min-width:0; }
.adminme .acc>div>div{ overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
.adminme .muted{ opacity:.65; font-size:12px; }
.adminme table.lb td{ font-variant-numeric: tabular-nums; }
.adminme .kpi-lg{ padding:18px; }

/* 11) Edit / Avatar modals (shared) */
.adminme .modal{ position:fixed; inset:0; display:grid; place-items:center; padding:20px; background:rgba(0,0,0,.0); pointer-events:none; opacity:0; transition:opacity .18s ease; }
.adminme .modal.open{ background:rgba(0,0,0,.36); pointer-events:auto; opacity:1; }
.adminme .modal .sheet{ inline-size:min(560px,92vw); background:#fff; border-radius:20px; box-shadow:0 20px 60px rgba(0,0,0,.22); padding:18px; }
.adminme .modal .overlay{ position:fixed; inset:0; background:transparent; border:0; }
.adminme .modal .title{ font-size:20px; font-weight:800; margin:2px 4px 14px; }
.adminme .form-row{ display:grid; gap:6px; margin:10px 4px; }
.adminme .form-row>label{ font-size:13px; font-weight:800; color:#222; }
.adminme .form-row>input{ appearance:none; background:#fff; border:1px solid var(--line); border-radius:12px; padding:12px 14px; font-size:14px; }
.adminme .form-row>input:focus-visible{ outline:2px solid var(--focus); border-color:transparent; }
.adminme .fieldset{ border:1px solid var(--line); border-radius:14px; padding:8px 10px 12px; margin:12px 4px 8px; }
.adminme .fieldset>legend{ padding:0 6px; font-size:12px; font-weight:800; color:#333; }
.adminme .actions{ display:flex; gap:8px; justify-content:flex-end; align-items:center; margin:14px 4px 0; }
.adminme .msg{ font-size:13px; color:var(--accent); margin:10px 4px 0; min-height:1.2em; }
.adminme .cropper{ display:grid; place-items:center; margin:14px 0 10px; }
.adminme #av-canvas{ display:block; margin-inline:auto; max-inline-size:100%; aspect-ratio:1/1; }

/* 12) Footer */
.adminme .mine-footer{ margin-top:48px; padding:24px 0 64px; border-top:1px solid var(--line); background:transparent; }
.adminme .mine-footer .footer-inner{ max-width:1500px; padding:0 24px; margin:0 auto; display:flex; justify-content:center; gap:12px; }
.adminme .mine-footer .btn-logout{ min-width:auto; padding-inline:18px; white-space:nowrap; }

/* 13) Responsive tweaks */
@media (max-width: 860px){
  .adminme .profile-hero{ flex-direction:column; align-items:flex-start; }
  .adminme .ph-right{ align-self: stretch; }
}
